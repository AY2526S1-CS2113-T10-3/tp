@startuml
actor User
participant ":UI" as UI
participant ":Parser" as Parser
participant ":ComputeGpaCommand" as GpaCmd
participant ":CourseRecord" as CourseRecord

User -> UI: gpa
activate UI

UI -> Parser: parse("gpa")
activate Parser
Parser -> GpaCmd: create()
activate GpaCmd
GpaCmd --> Parser
deactivate GpaCmd
Parser --> UI
deactivate Parser

UI -> GpaCmd: execute(ui, modules, courseRecord)
activate GpaCmd

GpaCmd -> CourseRecord: isEmpty()
activate CourseRecord
CourseRecord --> GpaCmd: false
deactivate CourseRecord

loop for each course
    GpaCmd -> CourseRecord: getCourseRecord()
    activate CourseRecord
    CourseRecord --> GpaCmd: courses
    deactivate CourseRecord
    GpaCmd -> GpaCmd: convertGradePoint(grade)
    activate GpaCmd
    GpaCmd --> GpaCmd: gradePoint
    deactivate GpaCmd
    GpaCmd -> GpaCmd: calculate weighted sum
end

GpaCmd -> GpaCmd: gpa = totalGradePoints / totalCredits

GpaCmd -> UI: showMessage("Your GPA is: ...")
activate UI
UI --> GpaCmd
deactivate UI

GpaCmd --> UI
deactivate GpaCmd

UI --> User
deactivate UI

@enduml
